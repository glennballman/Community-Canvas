**COMPLETE AUDIT: Find Every Non-Standard Table and Column**

We thought we were done standardizing. We were wrong. The trip tables still use "bookings" naming and have wrong FK patterns.

DO A COMPLETE AUDIT. No assumptions. No "good enough."

**STEP 1: Find ALL tables that don't follow cc_* prefix pattern**
```sql
SELECT tablename 
FROM pg_tables 
WHERE schemaname = 'public' 
AND tablename NOT LIKE 'cc_%'
AND tablename NOT LIKE 'pg_%'
AND tablename NOT LIKE 'drizzle%'
ORDER BY tablename;
```

**STEP 2: Find ALL tables/columns with forbidden words**
```sql
-- Tables with "booking" in the name (should be "reservation" or removed)
SELECT tablename FROM pg_tables 
WHERE schemaname = 'public' 
AND tablename ILIKE '%booking%';

-- Tables with "unified" (legacy)
SELECT tablename FROM pg_tables 
WHERE schemaname = 'public' 
AND tablename ILIKE '%unified%';

-- Columns named "booking" anything
SELECT table_name, column_name 
FROM information_schema.columns 
WHERE table_schema = 'public' 
AND column_name ILIKE '%booking%'
ORDER BY table_name, column_name;

-- Columns named "booker" anything  
SELECT table_name, column_name 
FROM information_schema.columns 
WHERE table_schema = 'public' 
AND column_name ILIKE '%booker%'
ORDER BY table_name, column_name;

-- FKs named "reservation_id" that don't actually point to cc_reservations
SELECT 
    tc.table_name, 
    kcu.column_name,
    ccu.table_name AS references_table
FROM information_schema.table_constraints tc
JOIN information_schema.key_column_usage kcu 
    ON tc.constraint_name = kcu.constraint_name
JOIN information_schema.constraint_column_usage ccu 
    ON tc.constraint_name = ccu.constraint_name
WHERE tc.constraint_type = 'FOREIGN KEY'
AND kcu.column_name = 'reservation_id'
AND ccu.table_name != 'cc_reservations'
ORDER BY tc.table_name;
```

**STEP 3: Find ALL code references to wrong table names**
```bash
# Find all references to "booking" tables in code
grep -rn "trip_booking\|cc_trip_booking\|booking_id\|bookings" --include="*.ts" --include="*.tsx" server/ client/ shared/ | grep -v node_modules | grep -v ".test." | head -200

# Find schema definitions for these tables
grep -rn "cc_trip_booking" shared/schema.ts

# Find API routes using these tables
grep -rn "trip_booking" server/routes/*.ts | head -50
```

**STEP 4: List EVERY table that needs renaming**

Create a complete list in this format:

| Current Name | New Name | Reason |
|--------------|----------|--------|
| cc_trip_bookings | cc_trips | "bookings" is wrong; this is the trip container |
| cc_trip_booking_participants | cc_trip_participants | Remove "booking" |
| cc_trip_booking_segments | cc_trip_segments | Already have cc_trip_segments? Consolidate |
| ... | ... | ... |

**STEP 5: List EVERY column that needs renaming**

| Table | Current Column | New Column | Reason |
|-------|----------------|------------|--------|
| cc_trip_booking_participants | reservation_id | trip_id | Points to trips, not reservations |
| cc_trip_booking_segments | reservation_id | trip_id | Points to trips, not reservations |
| ... | ... | ... | ... |

**STEP 6: Check for duplicate/conflicting tables**
```sql
-- Do we have BOTH cc_trip_segments AND cc_trip_booking_segments?
SELECT tablename FROM pg_tables 
WHERE schemaname = 'public' 
AND tablename LIKE '%trip%segment%';

-- Do we have multiple "participant" tables?
SELECT tablename FROM pg_tables 
WHERE schemaname = 'public' 
AND tablename LIKE '%participant%';
```

**OUTPUT REQUIRED:**

1. Complete list of tables to rename
2. Complete list of columns to rename  
3. Complete list of code files that reference wrong names
4. Any duplicate/conflicting tables that need consolidation
5. Recommended migration order (dependencies)

DO NOT PROCEED WITH ANY OTHER WORK UNTIL THIS AUDIT IS COMPLETE.